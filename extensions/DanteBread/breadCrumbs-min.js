(()=>{class e{static globalMaxCrumbs=8;static maxLength=20;static add(r,a){console.info("breadCrumbs.add: ",r,a);let t=e.get();t.map((e=>e.pageName)).includes(r)?console.info("breadCrumbs.add: breadcrumbs already include this ",r,a):(t.push({pageName:r,pageKey:a}),t.length>e.globalMaxCrumbs&&(t=t.slice(t.length-e.globalMaxCrumbs)),localStorage.setItem("breadcrumbs",JSON.stringify(t)))}static get(){let e=localStorage.getItem("breadcrumbs");try{if(!e)throw new Error("breadcrumbs in storage were falsish ");if(e=JSON.parse(e),!Array.isArray(e))throw new Error("breadcrumbs in storage were not an array ");return e}catch(e){return console.info("BreadCrumbs.get exception triggered, reinitializing. Reason was: ",e),localStorage.setItem("breadcrumbs",JSON.stringify([])),[]}}static insert(){let r=e.get();console.info("breadCrumbs.insert: found ",r);var a=[];for(let n=r.length-1;n>=0;n--){var t='<a href="'+r[n].pageKey+'  title="Go to: '+r[n].pageName+'" >',s=r[n].pageName;s.length>e.maxLength&&(s=s.substr(0,e.maxLength)+"..."),t+=s+"</a>",a.push(t)}console.info("BreadCrumbs.insert: vc is ",a);let n=a.reduce(((e,r)=>e+r+" &raquo; "),"")+"<a href='javascript:window.clearBreadcrumbs();' style='font-size:9pt; font-variant-caps: all-small-caps;padding:1pt;' title='Clear breadcrumbs'>del</a>";console.info("BreadCrumbs.inster: txt is ",n),document.getElementById("breadcrumbinsert").innerHTML=n}}window.doBreadNow=function(){e.insert()},window.addFreshCrumb=function(r,a){e.add(r,a)},window.clearBreadcrumbs=function(){localStorage.setItem("breadcrumbs",JSON.stringify([])),e.insert()}})();